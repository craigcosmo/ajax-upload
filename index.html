<!DOCTYPE html>
<html>
<head>
	<title>Multiple File Upload With Progress, Pausability and Cancelation</title>
	<link rel="shortcut icon" type="image/png" href="favicon.png"/>
	
</head>
<body>
	<form method="post" enctype="multipart/form-data">
		<input type="file" name="file" multiple />
		<input type="submit" value="Upload File" name="submit" />
	</form>
</body>
<script>
	const form = document.querySelector('form')
	let url = 'https://vegas.framltd.se/api/media'
	form.addEventListener('submit', e => {
	  e.preventDefault()

	  const files = document.querySelector('[type=file]').files
	  const formData = new FormData(form)

	  // for (let i = 0; i < files.length; i++) {
	  //   let file = files[i]

	  //   formData.append('files[]', file)
	  // }
	  try{
		fetch(url, {
		  method: 'POST',
		  body: formData,
		  headers: {
			'Content-Type':'application/x-www-form-urlencoded'
		  }
		}).then(response => {
		  console.log(response)
		})
	  }catch(error){
		console.log(error)
	  }
	  
	})
</script>
</html>